{% set title = "music + art + technology" %}
{% set events = craft.entries.section('events').order('startTime desc').startTime('> 2015-12-31') %}
{% set bodyClasses = "pages-index" %}
{% extends "_layouts/default.html" %}

{% block meta %}
<meta property="og:url" content="http://convergence-london.com" /> 
<meta property="og:title" content="Convergence" />
<meta property="og:description" content="music + art + technology: Convergence is a series of events focusing on pioneers who use technology to innovate: to break the usual beat rather than getting stuck in a loop" /> 
<meta property="og:image" content="/assets/img/socialconv.png" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:site" content="@ConvergenceLDN">
<meta name="twitter:title" content="Convergence: music + art + technology">
<meta name="twitter:description" content="Convergence is a series of events focusing on pioneers who use technology to innovate: to break the usual beat rather than getting stuck in a loop.">
<meta name="twitter:image:src" content="/assets/img/socialconv.png">
{% endblock %}

{% block page_content %}

{% include "_partials/launch" %}

{% include "_partials/interactivepanel" %}

{% include "_partials/eventsrow" %}

{% include "_partials/mailinglistrow" %}

</div>
{% endblock %}


{% block page_script_tags %}
<script>
/**
 * Copyright (C) 2012 by Justin Windle
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
 * THE SOFTWARE.
 */
var wrap = document.getElementById('wrapper');
var curve;
 var Sketch=function(){function c(i){i=h(i||{},o);var s="sketch-"+e++,f=document.createElement("canvas");switch(i.type){case n:try{r=f.getContext("webgl",i)}catch(l){}try{r=r||f.getContext("experimental-webgl",i)}catch(l){}if(!r)throw"WebGL not supported";break;case t:try{r=f.getContext("2d",i)}catch(l){}if(!r)throw"Canvas not supported";break;default:f=r=document.createElement("div")}return f.className="sketch",f.id=s,i.container.appendChild(f),h(self,u),h(r,i),h(r,a),d(),m(),r.autostart&&setTimeout(r.start,0),r}function h(e,t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n]);return e}function p(e){function n(e,t){return function(){e.call(t,arguments)}}var t={};for(var r in e)typeof e[r]=="function"?t[r]=n(e[r],e):t[r]=e[r];return t}function d(){function n(t){return e[t]||String.fromCharCode(t)}function i(e){r.mouse.ox=r.mouse.x,r.mouse.oy=r.mouse.y,r.mouse.x=e.x,r.mouse.y=e.y,r.mouse.dx=r.mouse.x-r.mouse.ox,r.mouse.dy=r.mouse.y-r.mouse.oy}function o(e){var t,n=p(e);n.original=e;for(var i=r.canvas,o=0,u=0;i;i=i.offsetParent)o+=i.offsetLeft,u+=i.offsetTop;if(n.touches&&!!n.touches.length)for(var a=n.touches.length-1,f;a>=0;a--)f=n.touches[a],f.x=f.pageX-o,f.y=f.pageY-u,t=s[a]||f,f.dx=f.x-t.x,f.dy=f.y-t.x,f.ox=t.x,f.oy=t.y,s[a]=p(f);else n.x=n.pageX-o,n.y=n.pageY-u,t=s.mouse||n,n.dx=n.x-t.x,n.dy=n.y-t.y,n.ox=t.x,n.oy=t.y,s.mouse=n;return n}function u(e){e.preventDefault(),e=o(e),r.touches=e.touches,i(r.touches[0]),r.touchstart&&r.touchstart(e),r.mousedown&&r.mousedown(e)}function c(e){e=o(e),r.touches=e.touches,i(r.touches[0]),r.touchmove&&r.touchmove(e),r.mousemove&&r.mousemove(e)}function h(e){e=o(e);if(!e.touches.length)s={};else for(var t in s)e.touches[t]||delete s[t];r.touchend&&r.touchend(e),r.mouseup&&r.mouseup(e)}function d(e){e=o(e),r.mouseover&&r.mouseover(e)}function v(e){e=o(e),r.dragging||(l(r.canvas,"mousemove",g),l(r.canvas,"mouseup",b),f(document,"mousemove",g),f(document,"mouseup",b),r.dragging=!0),r.touches=[e],r.touchstart&&r.touchstart(e),r.mousedown&&r.mousedown(e)}function g(e){e=o(e),i(e),r.touches=[e],r.touchmove&&r.touchmove(e),r.mousemove&&r.mousemove(e)}function y(e){e=o(e),r.mouseout&&r.mouseout(e)}function b(e){e=o(e),r.dragging&&(l(document,"mousemove",g),l(document,"mouseup",b),f(r.canvas,"mousemove",g),f(r.canvas,"mouseup",b),r.dragging=!1),delete s.mouse,r.touchend&&r.touchend(e),r.mouseup&&r.mouseup(e)}function w(e){e=o(e),r.click&&r.click(e)}function E(e){r.keys[n(e.keyCode)]=!0,r.keys[e.keyCode]=!0,r.keydown&&r.keydown(e)}function S(e){r.keys[n(e.keyCode)]=!1,r.keys[e.keyCode]=!1,r.keyup&&r.keyup(e)}var e={8:"BACKSPACE",9:"TAB",13:"ENTER",16:"SHIFT",27:"ESCAPE",32:"SPACE",37:"LEFT",38:"UP",39:"RIGHT",40:"DOWN"};for(var t in e)a.keys[e[t]]=!1;var s={};f(r.canvas,"touchstart",u),f(r.canvas,"touchmove",c),f(r.canvas,"touchend",h),f(r.canvas,"mouseover",d),f(r.canvas,"mousedown",v),f(r.canvas,"mousemove",g),f(r.canvas,"mouseout",y),f(r.canvas,"mouseup",b),f(r.canvas,"click",w),f(document,"keydown",E),f(document,"keyup",S),f(window,"resize",m)}function v(e){i||(r.dt=(e=e||Date.now())-r.now,r.millis+=r.dt,r.now=e,r.update&&r.update(r.dt),r.autoclear&&r.clear(),r.draw&&r.draw(r)),i=++i%r.interval,s=requestAnimationFrame(v)}function m(e){r.fullscreen?(r.height=r.canvas.height=wrap.offsetHeight,r.width=r.canvas.width=wrap.offsetWidth):(r.canvas.height=r.height,r.canvas.width=r.width),r.resize&&r.resize()}var e=0,t="canvas",n="web-gl",r,i=0,s=-1,o={fullscreen:!0,autostart:!0,autoclear:!0,autopause:!0,container:document.body,interval:1,type:t},u={PI:Math.PI,TWO_PI:Math.PI*2,HALF_PI:Math.PI/2,QUARTER_PI:Math.PI/4,sin:Math.sin,cos:Math.cos,tan:Math.tan,pow:Math.pow,exp:Math.exp,min:Math.min,max:Math.max,sqrt:Math.sqrt,atan:Math.atan,atan2:Math.atan2,ceil:Math.ceil,round:Math.round,floor:Math.floor,random:function(e,t){return e&&typeof e.length=="number"&&!!e.length?e[Math.floor(Math.random()*e.length)]:(typeof t!="number"&&(t=e||1,e=0),e+Math.random()*(t-e))}},a={millis:0,now:NaN,dt:NaN,keys:{},mouse:{x:0,y:0,ox:0,oy:0,dx:0,dy:0},touches:[],initialized:!1,dragging:!1,running:!1,start:function(){if(r.running)return;r.setup&&!r.initialized&&(r.autopause&&(f(window,"focus",r.start),f(window,"blur",r.stop)),r.setup()),r.initialized=!0,r.running=!0,r.now=Date.now(),v()},stop:function(){cancelAnimationFrame(s),r.running=!1},clear:function(){r.canvas&&(r.canvas.width=r.canvas.width)}},f=function(){if(window.addEventListener)return function(e,t,n){e.addEventListener(t,n,!1)};if(window.attachEvent)return function(e,t,n){e.attachEvent("on"+t,n)};el["on"+ev]=fn}(),l=function(){if(window.removeEventListener)return function(e,t,n){e.removeEventListener(t,n,!1)};if(window.detachEvent)return function(e,t,n){e.detachEvent("on"+t,n)};el["on"+ev]=null}();return{CANVAS:t,WEB_GL:n,create:c}}();Date.now||(Date.now=function(){return+(new Date)}),function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=Date.now(),r=Math.max(0,16-(n-e)),i=window.setTimeout(function(){t(n+r)},r);return e=n+r,i}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}();
function Point( x, y ) {
  this.x = x || 0; 
  this.y = y || 0;
}
Point.prototype.distanceTo = function( x, y ) {
  var dx = x-this.x;
  var dy = y-this.y;
  return Math.sqrt(dx*dx + dy*dy);
};
window.requestAnimFrame = (function(){
  return  window.requestAnimationFrame       || 
          window.webkitRequestAnimationFrame || 
          window.mozRequestAnimationFrame    || 
          window.oRequestAnimationFrame      || 
          window.msRequestAnimationFrame     || 
          function(/* function */ callback, /* DOMElement */ element){
            window.setTimeout(callback, 1000 / 60);
          };
})();
/**
 * @author Hakim El Hattab
 */
var Radar = (function(){
  var NODES_X = Math.ceil( window.innerWidth * 0.035 ),
    NODES_Y = Math.ceil( window.innerHeight * 0.035 ), ACTIVATION_DISTANCE = 10, WAVE_RADIUS = 8;
  var world = { width: window.innerWidth, height: window.innerHeight, center: new Point( window.innerWidth/2, window.innerHeight/2 )}, id = 0, container, styles, query = {}, activateNodeDistance = 0, nodes = [], doSprings = true, dotlength = 100, px, py;
    var pxdist = 0.002;
    var pydist = 0.002;
  function initialize() {
    var ctx = Sketch.create();
    container = document.querySelector( '#wrapper' );
    container.appendChild( ctx.canvas );
    if(Modernizr.touch){
      ctx.mouse.x = 50;
      ctx.mouse.y = 50;
    }
    ctx.setup = function() {
      var cx = world.width / ( NODES_X + 1 );
      var cy = world.height / ( NODES_Y + 1 );
      dotlength = world.width/12;
      activateNodeDistance = Math.min( cx, cy ) * 0.5;
      var i;
      var j;
      var x = 0;
      var y = 0;
      var len = NODES_X * NODES_Y;
      px = 150;
      py = 150;
      for( y = 0; y < NODES_Y; y++ ) {
        for( x = 0; x < NODES_X; x++ ) {
          nodes.push( new Node( cx + x * cx, cy + y * cy, x, y ) );
        }
      }
      for( i = 0; i < len; i++ ) {
        var nodeA = nodes[i];
      for( j = 0; j < len; j++ ) {
        var nodeB = nodes[j];
      if( nodeA !== nodeB && nodeB.distanceToNode( nodeA ) < WAVE_RADIUS ) {
        nodeA.neighbors.push( nodeB );
      }}}}
    ctx.draw = function() {
      for( var i = 0, len = nodes.length; i < len; i++ ) {
        var node = nodes[i];this.updateNode( node );this.drawNode( node );}}
    ctx.updateNode = function( node ) {
      if(Modernizr.touch){
        px+=pxdist;
        py+=pydist;
        if(px < 0 || px > world.width) {
          pxdist = -pxdist;
        }
        if(py < 0 || py > world.height) {
          pydist = -pydist;
        }
      } else {
        px = ctx.mouse.x;
        py = ctx.mouse.y;
      }
      if(Modernizr.touch) { 
        if(node.distanceTo( world.center.x, world.center.y ) < 200 ){
          doSprings = doSprings == false ? true : false;
        }
      }
      if(node.distanceTo( px, py ) < dotlength ){
        node.strength = node.distanceTo(ctx.mouse.x, ctx.mouse.y) * 0.003;
      }

      node.strength += ( node.strengthTarget - node.strength ) * 0.2;
      node.strength = Math.max( node.strength - 0.01, 0 );
      if (doSprings) {
          node.offsetX += ( node.offsetTargetX - node.offsetX ) * 0.4;
          node.offsetY += ( node.offsetTargetY - node.offsetY ) * 0.4;
      }
      if( node.strength > 0.1 ) {
        for( j = 0, jlen = node.neighbors.length; j < jlen; j++ ) {
          var neighbor = node.neighbors[j];
          var radians = Math.atan2( node.indexh - neighbor.indexh, node.indexv - neighbor.indexv );
          neighbor.offsetX += Math.sin( radians );
          neighbor.offsetY += Math.cos( radians );
        }
      }
    }
    ctx.drawNode = function( node ) {
      var radians = Math.atan2( world.center.y - node.y, world.center.x - node.x );
      var distance = node.distanceTo( world.center.x, world.center.y );
      var distanceFactor = distance / Math.min( world.width, world.height );
      node.size = node.sizeTarget || 2;
      node.paintedX = node.x + node.offsetX;
      node.paintedY = node.y + node.offsetY;
      ctx.beginPath();
      ctx.arc( node.paintedX, node.paintedY, node.size, 0, Math.PI * 2, true );
      curve = node.distanceTo( ctx.mouse.x, ctx.mouse.y ) / world.width;
      ctx.fillStyle = 'hsla(' + (226-( curve * 163)) + ', 90%, 47%, 0.7)';
      ctx.fill();
      ctx.strokeStyle = ctx.fillStyle;
      ctx.beginPath();
      ctx.moveTo(node.x, node.y);
      ctx.lineTo(node.paintedX, node.paintedY);
      ctx.stroke();
    }
    ctx.mousedown = function( event ) {
        doSprings = doSprings == false ? true : false;
        dotlength = dotlength == world.width/4 ? world.width/12 : world.width/4;
    }
  }
  function Node( x, y, indexh, indexv ) {
    this.constructor.apply( this, arguments );
    this.indexh = indexh;
    this.indexv = indexv;
    this.id = ++id;
    this.neighbors = [];
    this.collisionLevel = 0;
    this.strength = 0;
    this.size = 0;
    this.sizeTarget = this.size;
    this.strengthTarget = 0;
    this.offsetX = 0;
    this.offsetY = 0;
    this.offsetTargetX = 0;
    this.offsetTargetY = 0;
    this.paintedX = this.x;
    this.paintedY = this.y;
    
    this.color = 'hsla(126, 90%, 47%, 0.7)'
  }
  Node.prototype = new Point();
  Node.prototype.distanceToNode = function( node ) {
    var dx = node.indexh - this.indexh;
    var dy = node.indexv - this.indexv;
    return Math.sqrt(dx*dx + dy*dy);
  };
  Node.prototype.distanceTo = function( x, y ) {
    var dx = x - this.paintedX;
    var dy = y - this.paintedY;

    return Math.sqrt(dx*dx + dy*dy);
  };
  initialize();
})();
</script>



<script type="text/javascript">
/* HANDLER FOR MAILING LIST FORM SUBMIT */
function cvgMailchimp(resp){
  if (resp.result === 'success') {
    $('button svg.tick').show();
    $('button svg.arrow').hide();
    window.setTimeout(function(){
      $('button svg.tick').hide();
      $('button svg.arrow').show();
      $('input').val("");
    }, 2000);
  } else {
    $('.perror').show();
    $('button svg.arrow').show();
    window.setTimeout(function(){
      $('.perror').hide();
    }, 3000);
  }
}

var current = 0;

$(document).ready(function() {
  /* SET HEIGHT OF SHIFT PANEL */
  var cvgHeight = window.innerHeight;
  var splashShift = document.querySelector("#splash-shift");
  var h;
  h = cvgHeight + 'px';
  splashShift.style.height = h;

  /* SET HEIGHT OF ALL SPLASH IMAGE PANELS */
  var splashes = document.querySelectorAll(".splash");
  for(var i = 0; i < splashes.length; i++){
    splashes[i].style.height = cvgHeight + 'px';
  }

  function addBuyButton() {
    // remove existing form button
    $('a.buy', $('#wrapper')).remove();

    var form = $('a.buy', splashes[current]);
    if(form) {
      var x = form.clone()
      x.addClass("highbuy");
      x.appendTo($('#wrapper'));
    }
  }

  addBuyButton();

  /* BASIC CAROUSEL */
  function rotateEvents() {
    splashes[current].style.opacity = 0;
    current++;
    if (current > numSplashes) {
      current = 0;
    }
    splashes[current].style.opacity = 1;
    addBuyButton();
  }

  
    var numSplashes = splashes.length-1;
    window.setInterval(rotateEvents, 5000);
  

  /* STICKY NAV */
  $('nav').waypoint('sticky', {
    offset: 4
  });

  /* AJAXIFY MAILING LIST FORM */
  $('form').submit(function(){
    $('button svg.arrow').hide();
  });

  $('form#mailchimp').ajaxChimp({
    callback: cvgMailchimp
  });
});

/* LOAD LOGOTYPE WEBFONT ASYNC */
WebFontConfig = {
  google: {
    families: ['Oxygen'],
    text: 'CONVERGENCE!'
  }
};

(function() {
  var wf = document.createElement('script');
  wf.src = ('https:' == document.location.protocol ? 'https' : 'http') +
            '://ajax.googleapis.com/ajax/libs/webfont/1.4.7/webfont.js';
  wf.type = 'text/javascript';
  wf.async = 'true';
  var s = document.getElementsByTagName('script')[0];
  s.parentNode.insertBefore(wf, s);
})();
</script>

{% endblock %}